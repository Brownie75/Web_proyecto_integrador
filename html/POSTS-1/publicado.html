<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publicado</title>
    <link rel="stylesheet" href="style.css">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
</head>
<body>
    <header class="banner">
        <h1 class="logo-text">Chef en Casa</h1>
        <nav class="btn_banner">
            <ul class="nav_bar">
                <li><a class="about_us" href="/V.01-formulario/about_us.html">Acerca de nosotros</a></li>
                <li>
                    <a href="#" class="menu">Opciones</a>
                    <ul class="dropdown">
                        <li><a href="/index.html">Inicio</a></li>
                        <li><a href="../profile.html">Perfil</a></li>
                        <li><a href="../Support-form/index.html">Contacto</a></li>
                        <li><a href="../signup_Majo/index.html">Registro/Inicio de sesión</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="content">
            <div id="recipe-title"></div>
            <div id="recipe-description"></div>
            <div id="recipe-ingredients"></div>
            <div id="recipe-steps"></div>
        </section>
    </main>

    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function() {
            var title = localStorage.getItem('recipeTitle');
            var description = localStorage.getItem('recipeDescription');
            var content = localStorage.getItem('recipeContent');

            document.getElementById('recipe-title').innerHTML = `<h1>${title}</h1>`;
            document.getElementById('recipe-description').innerHTML = `<h2>Descripción:</h2><p>${description}</p>`;

            var parser = new DOMParser();
            var doc = parser.parseFromString(content, 'text/html');

            var ingredients = doc.querySelector('ul');
            var ingredientsHTML = ingredients ? ingredients.outerHTML : '';

            var steps = doc.body.innerHTML.replace(ingredientsHTML, '');
            
            var titleHTML = `<h1>${title}</h1>`;
            var stepsWithoutTitle = steps.replace(titleHTML, '');

            document.getElementById('recipe-ingredients').innerHTML = `<h2>Ingredientes:</h2>${ingredientsHTML}`;
            document.getElementById('recipe-steps').innerHTML = `<h2>Pasos:</h2>${stepsWithoutTitle}`;

            localStorage.removeItem('recipeTitle');
            localStorage.removeItem('recipeDescription');
            localStorage.removeItem('recipeContent');
        });
    </script>
</body>
</html>


